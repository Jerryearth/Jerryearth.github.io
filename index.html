<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>é«˜è€ƒèµ„æ–™ä¸‹è½½ä¸­å¿ƒ</title>
<style>
  body { font-family: Arial; }
  ul { list-style-type: none; padding-left: 20px; }
  li { margin: 4px 0; cursor: pointer; }
  .folder { font-weight: bold; }
  .hidden { display: none; }
</style>
</head>
<body>

<h1>ðŸ“š é«˜è€ƒèµ„æ–™ä¸‹è½½ä¸­å¿ƒ</h1>
<div id="tree"></div>

<script>
const user = "jerryearth";
const repo = "jerryearth.github.io";

async function loadDir(path, parentElement) {
  const response = await fetch(
    `https://api.github.com/repos/${user}/${repo}/contents/${path}`
  );
  const data = await response.json();

  const ul = document.createElement("ul");
  parentElement.appendChild(ul);

  for (const item of data) {
    const li = document.createElement("li");

    if (item.type === "dir") {
      li.innerHTML = "ðŸ“‚ " + item.name;
      li.classList.add("folder");

      const subContainer = document.createElement("div");
      subContainer.classList.add("hidden");

      li.onclick = async function(e) {
        e.stopPropagation();
        if (subContainer.innerHTML === "") {
          await loadDir(item.path, subContainer);
        }
        subContainer.classList.toggle("hidden");
      };

      ul.appendChild(li);
      ul.appendChild(subContainer);
    }

    else if (item.name.endsWith(".pdf")) {
      li.innerHTML = `ðŸ“„ <a href="${item.download_url}" target="_blank">${item.name}</a>`;
      ul.appendChild(li);
    }
  }
}

loadDir("", document.getElementById("tree"));
</script>

</body>
</html>
